# AGENTS.md

このドキュメントは、このリポジトリで作業するAIエージェント向けのプロジェクト固有の指示を定義します。内容は簡潔に保ち、ワークフローや制約が変更された場合は適宜更新してください。

## Scope
- 主要なアプリコードは `web-app/` および `lambda/` にあります。
- インフラストラクチャコードは `gekiyasu_diary_cdk_py/` にあります。
- `cdk.out/` 内の自動生成された出力は編集しないでください。

## Coding Rules
- UIのレンダリングにはローカル日付（`YYYY-MM-DD`）を使用し、UTC由来の日付文字列は避けてください。
- Reactコンポーネントのロジックは `web-app/src/` に集約し、明示的な要求がない限り新しいライブラリを追加しないでください。
- 小さく、焦点を絞った変更を優先してください。指示がない限り、広範囲にわたるリファクタリングは避けてください。
- 既存ファイルで日本語やUnicodeが使用されている場合を除き、新しいテキストにはASCIIを使用してください。

## Testing
- フロントエンドの変更については、必要に応じて `npm test` またはプロジェクト標準のチェックを実行してください。
- テストをスキップする場合は、その理由と手動での検証方法を明記してください。

## Data and Security
- 復号された日記の内容をUI以外でログに出力したり、外部に露出させたりしないでください。
- 暗号化/復号のヘルパー関数は慎重に取り扱い、必要がない限り変更しないでください。

## Communication
- 指示が矛盾している場合は、作業を進める前に確認してください。
- 自身が行っていない予期しない変更に気付いた場合は、作業を停止して進め方を確認してください。
