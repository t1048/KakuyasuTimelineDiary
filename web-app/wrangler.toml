# Cloudflare Pages Configuration
# Kakuyasu Timeline Diary

name = "kakuyasu-timeline-diary"
compatibility_date = "2024-01-01"
pages_build_output_dir = "dist"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "kakuyasu-timeline-diary-db"
database_id = ""  # Run: npx wrangler d1 create kakuyasu-timeline-diary-db

# R2 Storage binding
[[r2_buckets]]
binding = "USER_CONTENT_BUCKET"
bucket_name = "kakuyasu-timeline-user-content"

# Environment variables
[vars]
AWS_REGION = "ap-northeast-1"
USER_POOL_ID = ""  # Your Cognito User Pool ID (e.g., ap-northeast-1_XXXXXXXXX)
USER_POOL_CLIENT_ID = ""  # Your Cognito User Pool Client ID
CONSENT_VERSION = "2025-12-21"
MONTHLY_IMAGE_UPLOAD_LIMIT = "50"

# Production environment
[env.production]
name = "kakuyasu-timeline-diary-production"

[env.production.vars]
ENVIRONMENT = "production"

# Preview/staging environment
[env.preview]
name = "kakuyasu-timeline-diary-preview"

[env.preview.vars]
ENVIRONMENT = "preview"
